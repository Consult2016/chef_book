\section{Defining nodes}\label{sec:solo-node}

Node itself represent any physical, virtual, or cloud machine. In most cases number of nodes in kitchen equal of number of machines in your cloud. To install apache2 to the correct server, we need to create a file in the nodes folder. Basically, this file is named as machine domain. For example, I attach to the machine domain <<web1.example.com>> and create node for it:

\begin{lstlisting}[language=JSON,label=lst:my-cloud-node1,title=my-cloud/nodes/web1.example.com.json]
{
  "run_list": []
}
\end{lstlisting}

Node file should contain valid JSON document. Main key in this json is <<run\_list>>. This key contain array of recipes and roles, which should be executed on mashine. It always executed in the same order as listed in this key. As you can see right now run\_list is empty. To install apache2 you need to add the recipe in this array. This information can be found in README (if well written cookbook), in metadata.rb or just open directory recipes - the name of the file will mean recipe name. <<default.rb>> file mean a recipe that will be executed when you call the cookbook in run\_list without designation of recipe. Examples:

\begin{lstlisting}[language=JSON,label=lst:my-cloud-node2,title=my-cloud/nodes/web1.example.com.json]
{
  "run_list": [
    "recipe[apache2]"
  ]
}
\end{lstlisting}

This run\_list will execute default recipe from apache2 cookbook.

Now all you need to check this kitchen.
